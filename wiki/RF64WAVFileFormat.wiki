#summary RF64 WAVファイルフォーマットについて
#labels Featured

= RF64 WAVファイルフォーマットについて =

RIFF WAVEファイル形式は、素の状態では、DATAチャンクのバイト数を表す
dataChunkSizeが32ビット整数のため、4GBを超えるサイズのDATAチャンクを持つことが出来ない。

RF64形式は、4GBを超えるサイズのDATAチャンクを持つことができる



= 実際の出力を観察する =

Adobe Audition CS 5.5で出力したRF64形式のWAVファイルのヘッダ部分

{{{
---------|-0--1--2--3--4--5--6--7--8--9--A--B--C--D--E--F-|---0123456789ABCDEF
000000000|52 46 36 34 ff ff ff ff 57 41 56 45 64 73 36 34 |   RF64....WAVEds64
000000010|1c 00 00 00 8c d4 55 43 01 00 00 00 00 c0 55 43 |   ....菰UC.....ﾀUC
000000020|01 00 00 00 00 a0 e3 35 00 00 00 00 00 00 00 00 |   ......5........
000000030|66 6d 74 20 12 00 00 00 01 00 02 00 00 ee 02 00 |   fmt ............
000000040|00 94 11 00 06 00 18 00 00 00 64 61 74 61 ff ff |   ..........data..
000000050|ff ff                                           |   ..              
---------|------------------------------------------------|-------------------
}}}
↑表1: ヘッダ部分のバイナリダンプ

  * このファイルのファイルサイズ 0x14355d494 (5424665748)バイト
  * DATAチャンクのサイズ 0x14355d48c (5424665740)バイト

||オフセット||サイズ||値                        || 内容                 ||
||0         ||    4 || 'RF64'                   || RF64 chunkId         ||
||4         ||    4 || 0xffffffff               || RF64 chunkSize       ||
||8         ||    4 || 'WAVE'                   || RF64 rf64Type        ||
||12        ||    4 || 'ds64'                   || DataSize64 chunkId   ||
||16        ||    4 || 0x1c (28)                || DataSize64 chunkSize ||
||20        ||    8 || 0x14355d48c (5424665740) || DataSize64 riffSize ||

↑表2: ヘッダ部分の内容


= 仕様書 =

http://tech.ebu.ch/docs/tech/tech3306-2009.pdf